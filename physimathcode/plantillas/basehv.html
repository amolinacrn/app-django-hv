<!DOCTYPE html>
<html lang="es">

<head>

    {% load static %}
    <!-- Bootstrap -->
    <link href="{% static 'bs532/css/bootstrap.min.css' %}" rel="stylesheet">

    <!-- Fonts -->

    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@300&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Lora:400,400i,700,700i" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'bs532/input-file/fancy-file/styles.css' %}" />
    <link rel="stylesheet" href="{% static 'bs532/input-file/fancy-file/styles_img.css' %}" />
    <!-- Styles -->
    <link href="{% static 'bs532/css/gestion.css' %}" rel="stylesheet" />
    <link href="{% static 'bs532/css/cssbase.css' %}" rel="stylesheet" />
    <link href="{% static 'bs532/css/misopcionescss.css' %}" rel="stylesheet" />
    <link href="{% static 'bs532/css/configbase.css' %}" rel="stylesheet" />
    <link href="{% static 'bs532/css/confighv.css' %}" rel="stylesheet" />
    <!---   inicio codigo para formulario laboratorio  --->

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- <style>
        .upload-img {
            position: absolute;
            left: -9999px;
        }

        .custom-file-label {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid #ccc;
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            background: #f8f9fa;
        }

        .file-btn {
            background: #175ce6;
            color: white;
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 12px;
        }
    </style> -->


    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
            },
            svg: {
                fontCache: 'global'
            }
        };
    </script>

    <script type="text/javascript" id="MathJax-script" async
        src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
        </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

    <!---   fin codigo para formulario laboratorio  --->

    {% block content_head %}

    {% endblock %}

</head>

<body>

    <div id="miniNav">
        <div style="width:100%;">
            <div style="display:flex; width:100%;">
                <div style="width:3%;">

                </div>
                <div style="width:7%;">
                    <table>
                        <tr>
                            <td>
                                <button onclick="toggleLeftPanel()" class="collapse-btn">
                                    <svg width="18" height="18" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"
                                        stroke-width='2'>
                                        <rect width="70" height="4" fill="white" />
                                        <rect y="9" width="70" height="4" fill="white" />
                                        <rect y="18" width="70" height="4" fill="white" />
                                    </svg>
                                </button>
                            </td>
                        </tr>
                    </table>
                </div>
                <!-- 70% -->
                <div style="width:70%;"></div>

                {% if user.is_authenticated %}

                <!-- 10% Hola -->
                <div>
                    <ul class="navbar-nav mx-auto">
                        <li class="nav-item px-lg-0">
                            <a class="nav-link text-uppercase text-expanded">
                                Hola {{ user.first_name }}
                            </a>
                        </li>
                    </ul>
                </div>
                <div style="width:20px;"></div>
                <!-- 10% Cerrar sesi贸n -->
                <div>
                    <ul class="navbar-nav mx-auto">
                        <li class="nav-item px-lg-0">
                            <a class="nav-link text-uppercase text-expanded" href="{% url 'cerrar_sesion' %}">
                                Cerrar sesion
                            </a>
                        </li>
                    </ul>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
    <!-- Contenedor para ambos paneles -->
    <div id="container_personal">
        <!-- Panel izquierdo colapsable -->
        <div class="leftPanel">

            <div style="padding: 20px;">

                <h5 style="text-align: center;font-family: 'Barlow';">
                    Bienvenido
                    <br>
                    <b class="text-uppercase">
                        {% if user.is_authenticated %}
                        {{ user.first_name }} {{ user.last_name }}
                        {% endif %}
                    </b>
                </h5>
                <!-- Formulario simple que enviar谩 una petici贸n POST   -->

                <hr style="border: 2px solid  rgb(0, 0, 0);">

                <div style="background-color: rgba(60, 209, 90, 0);width:auto;">
                    <nav class="menu-principal">
                        <ul>

                            <li>
                                <a class="{% if request.resolver_match.url_name == 'get_datos' %}active{% endif %}"
                                    href="{% url 'get_datos' %}">
                                    Datos personales
                                </a>
                            </li>

                            <li>
                                <a class="{% if request.resolver_match.url_name == 'form_acad' %}active{% endif %}"
                                    href="{% url 'form_acad' 0 %}">
                                    Formaci贸n acad茅mica
                                </a>
                            </li>

                            <li>
                                <a class="{% if request.resolver_match.url_name == 'exp_laboral' %}active{% endif %}"
                                    href="{% url 'exp_laboral' 0 %}" style="white-space: nowrap;">
                                    Experiencia laboral
                                </a>
                            </li>

                            <li>
                                <a class="{% if request.resolver_match.url_name == 'prod_acad' %}active{% endif %}"
                                    href="{% url 'prod_acad' 0 %}">
                                    Productividad acad茅mica
                                </a>
                            </li>

                            <li>
                                <a class="{% if request.resolver_match.url_name == 'part_cient' %}active{% endif %}"
                                    href="{% url 'part_cient' 0 %}">
                                    Participaci贸n cient铆fica
                                </a>
                            </li>

                            <li>
                                <a class="{% if request.resolver_match.url_name == 'idiomas' %}active{% endif %}"
                                    href="{% url 'competencia_tecnica' 0 %}">
                                    Competencias t茅cnicas
                                </a>
                            </li>

                            <!--  AQU S CAMBI -->
                            <li>
                                <a class="{% if request.resolver_match.url_name == 'idiomas' %}active{% endif %}"
                                    href="{% url 'idioma_extangero' 0 %}">
                                    Idioma extranjero
                                </a>
                            </li>

                            <!--  AQU S CAMBI -->
                            <li>
                                <a class="{% if request.resolver_match.url_name == 'descargar_hv' %}active{% endif %}"
                                    href="{% url 'view_pdf_HV' %}">
                                    Descargar hoja de vida
                                </a>
                            </li>

                        </ul>
                    </nav>
                </div>

                <hr style="border: 2px solid  rgb(0, 0, 0);">

                <div class="progress" style="height: 20px; width:100%; margin-left: 0%;">
                    <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar"
                        aria-valuenow="10" aria-valuemin="0" aria-valuemax="100" style="width: 70%; height: 20px; ">
                        25%
                        Completado</div>
                </div>
            </div>
        </div>

        <!-- Panel derecho ajustable -->
        <div class="custom_derecho">


            <!--ESTE ES UN MODAL PARA TODAS LAS VISTAS, Y PERMITE VER TODOS LOS DOCUMENTOS. -->

            <div class="modal fade" id="verexplab" data-bs-backdrop="static" tabindex="-1"
                aria-labelledby="verexplabLabel" aria-hidden="true">
                <div class="modal-dialog modal-lg" style="margin-top: 5px;">

                    <div class="modal-content">

                        <div class="modal-body px-lg-1 py-lg-1">
                            <h6 class="modal-title" id="cargarfotoLabel"
                                style="text-align: left;color: rgb(255, 255, 255);">
                                <div style="padding: 1px; margin-left: 0px; margin-right: 0px;">
                                    <div
                                        style="background-color: rgb(13, 135, 206);align-content: center; height: 40px; text-transform: uppercase; ">
                                        <b id="identificador_titulo" style="padding: 10px; ">
                                            <!-- Documento de indentificaci贸n -->sdfsdfgdfg
                                        </b>
                                    </div>
                                </div>
                            </h6>
                            <div id="indentificacion_del_modal"></div>
                            <div class="modal-footer py-lg-0">
                                <button type="button" class="btn btn-outline-danger btn-sm float-end"
                                    data-bs-dismiss="modal">
                                    <b>Salir</b>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <script>

                var dirdiplomas = document.getElementById("indentificacion_del_modal")
                identificador_titulo = document.getElementById("identificador_titulo")

                function funcionVisualizarModal(exp_lab, titulo_encabezado) {
                    identificador_titulo.innerHTML = titulo_encabezado;
                    dirdiplomas.innerHTML = `<embed src="${exp_lab}" type="application/pdf" width="100%" height="100%"
          style="height: 80vh;"/>`
                    $(document).ready(function () {
                        $('#verexplab').modal('toggle')
                    });

                }

            </script>

            {% block content_derecho %}



            {% endblock %}
        </div>
    </div>

    <script>


        document.addEventListener("DOMContentLoaded", function () {
            const buttons = document.querySelectorAll(".button");

            buttons.forEach(button => {
                button.addEventListener("click", function () {
                    const parentLi = button.parentElement; // Suponiendo que el bot贸n est谩 dentro de un <li>
                    const content = document.querySelector(button.getAttribute("data-bs-target"));

                    // Alternar la clase 'active' en el padre para activar el CSS
                    parentLi.classList.toggle("active");

                    // Manejo de la expansi贸n y contracci贸n del contenido
                    if (content.style.maxHeight) {
                        content.style.maxHeight = null; // Colapsar
                    } else {
                        content.style.maxHeight = content.scrollHeight + "px"; // Expandir
                    }
                });
            });
        });

        const posicion_hv_html = document.querySelector(".posicion_hv_html");

        function toggleLeftPanel() {
            let anchoVentanapequenya = window.innerWidth;
            let customDerecho = document.querySelector('.custom_derecho');
            let widthVentana = document.querySelector('.leftPanel');
            if (widthVentana.style.width === "0px") {
                widthVentana.style.width = "210px";
                customDerecho.style.marginLeft = "228px";
                widthVentana.style.transition = "width 0.3s ease";
                posicion_hv_html.style.transition = "margin-right 0.4s ease";

                if (anchoVentanapequenya <= 1000) {
                    customDerecho.style.marginLeft = "0px";
                    posicion_hv_html.style.marginLeft = "5px";
                } else {
                    posicion_hv_html.style.marginRight = "13vw";
                    posicion_hv_html.style.marginLeft = "2vw";
                }

            } else {
                widthVentana.style.width = "0px";
                widthVentana.style.transition = "width 0.3s ease";
                customDerecho.style.marginLeft = "0px"
                posicion_hv_html.style.transition = "margin-right 0.4s ease";

                if (anchoVentanapequenya <= 1000) {
                    posicion_hv_html.style.marginLeft = "5px";
                } else {
                    posicion_hv_html.style.marginRight = "5vw"
                    posicion_hv_html.style.marginLeft = "5vw"
                }
            }
        }

        function updateLeftPanel() {
            let anchoLeftVentana = window.innerWidth;
            let leftPanelVentana = document.querySelector('.leftPanel');
            let customDerecho = document.querySelector('.custom_derecho');
            if (anchoLeftVentana <= 1300) {
                customDerecho.style.marginLeft = "0px";
                leftPanelVentana.style.width = "0px";
                leftPanelVentana.style.transition = "width 0.4s cubic-bezier(.66,.02,.87,-0.15)";
                customDerecho.style.transition = "margin-left 0.4s ease";
                posicion_hv_html.style.marginRight = "5px";
                posicion_hv_html.style.marginLeft = "5px";


            } else {
                leftPanelVentana.style.width = "210px";
                leftPanelVentana.style.transition = "width 0.2s ease";
                customDerecho.style.marginLeft = "228px";
                customDerecho.style.transition = "margin-left 0.4s ease";
                posicion_hv_html.style.marginRight = "13vw";
                posicion_hv_html.style.marginLeft = "2vw"

            }

        }

        //Llama a la funci贸n al cargar la p谩gina
        document.addEventListener("DOMContentLoaded", updateLeftPanel);

        //Llama a la funci贸n al redimensionar la ventana
        window.addEventListener('resize', updateLeftPanel);



        function actualizarColor() {

            let anchoVentana = window.innerWidth;
            let mitexElement = document.querySelector('.mitex_underline');


            if (mitexElement && anchoVentana <= 662) {

                mitexElement.style.top = '90px';
                mitexElement.style.fontSize = "59px";
                mitexElement.style.lineHeight = "80px";

            }

            if (mitexElement && anchoVentana <= 972 && anchoVentana > 662) {
                mitexElement.style.top = '65px';
                mitexElement.style.lineHeight = "100px"
                mitexElement.style.fontSize = "80px";

            }
            if (mitexElement && anchoVentana > 972) {
                mitexElement.style.top = '120px';
                mitexElement.style.lineHeight = "108px"
                mitexElement.style.fontSize = "80px";

            }
        }




        function updateBotton() {

            let collapseElementBtn = document.querySelector('.classTable');
            if (collapseElementBtn && anchoVentana <= 1300) {
                collapseElementBtn.style.display = "block";
            } else if (collapseElementBtn) {
                collapseElementBtn.style.display = "none";
            }

        }
        document.addEventListener("DOMContentLoaded", updateBotton);
        window.addEventListener('resize', updateBotton);

    </script>
    <script src="{% static 'bs532/js/bootstrap.bundle.min.js'%}"></script>
</body>

</html>

<!-- Navigation Menu -->